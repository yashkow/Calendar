<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мой календарь</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f8ff;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
        }
        .date {
            font-size: 24px;
            color: #555;
            margin-bottom: 20px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            text-align: left;
        }
        .section-title {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-top: 0;
        }
        .quote {
            font-size: 20px;
            font-style: italic;
            color: #2c3e50;
        }
        .history-event {
            margin: 15px 0;
            padding-left: 15px;
            border-left: 3px solid #3498db;
        }
        .history-year {
            font-weight: bold;
            color: #e74c3c;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Мой ежедневный календарь</h1>
        <div class="date" id="currentDate"></div>
        
        <div class="section">
            <h2 class="section-title">Цитата дня</h2>
            <div class="quote" id="dailyQuote"></div>
        </div>
        
        <div class="section">
            <h2 class="section-title">Этот день в истории</h2>
            <div id="historyLoader" class="loader" style="display: none;"></div>
            <div id="dailyHistory"></div>
        </div>
    </div>

    <script>
        // Функция для форматирования даты
        function getCurrentDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            return now.toLocaleDateString('ru-RU', options);
        }

        // Массив с цитатами
        const quotes = [
            "День, когда сбываются все мечты!",
            "Сегодня — идеальный день для новых начинаний!",
                      "Сегодня начни с улыбки — твори с любовью.",
"Ты больше, чем ты думаешь — действуй уверенно.",
"Мир создаёт возможности — вдохновляй собой.",
"Каждое утро наполнен светом — не бойся сиять.",
"Этот день ведёт к мечте — будь смелее.",
"Сейчас на твоей стороне — радуйся мелочам.",
"Время даёт выбор — не останавливайся.",
"Каждый шаг ждёт твоего шага — доверься себе.",
"Успех наполнен светом — будь смелее.",
"Жизнь больше, чем ты думаешь — благодари и иди вперёд.",
"Сегодня создаёт возможности — твори с любовью.",
"Ты говорит «да» — не бойся сиять.",
"Мир наполняет светом — вдохновляй собой.",
"Этот день ведёт к мечте — действуй уверенно.",
"Сейчас подарит шанс — радуйся мелочам.",
"Каждый шаг на твоей стороне — не останавливайся.",
"Время ждёт твоего шага — будь смелее.",
"Успех наполнен светом — доверься себе.",
"Жизнь больше, чем ты думаешь — не бойся сиять.",
"Сегодня говорит «да» — твори с любовью.",
"Ты создаёт возможности — благодари и иди вперёд.",
"Мир наполняет светом — вдохновляй собой.",
"Каждое утро даёт выбор — не останавливайся.",
"Этот день ждёт твоего шага — радуйся мелочам.",
"Сейчас наполнен светом — будь смелее.",
"Время больше, чем ты думаешь — действуй уверенно.",
"Каждый шаг подарит шанс — не бойся сиять.",
"Успех говорит «да» — твори с любовью.",
"Жизнь создаёт возможности — вдохновляй собой.",
"Сегодня ведёт к мечте — доверься себе.",
"Ты наполнен светом — благодари и иди вперёд.",
"Мир даёт выбор — радуйся мелочам.",
"Этот день ждёт твоего шага — не останавливайся.",
"Сейчас больше, чем ты думаешь — будь смелее.",
"Время создаёт возможности — действуй уверенно.",
"Каждый шаг наполняет светом — не бойся сиять.",
"Успех даёт выбор — вдохновляй собой.",
"Жизнь говорит «да» — твори с любовью.",
"Сегодня наполнен светом — доверься себе.",
"Ты ведёт к мечте — радуйся мелочам.",
"Мир больше, чем ты думаешь — не останавливайся.",
"Этот день создаёт возможности — будь смелее.",
"Сейчас даёт выбор — вдохновляй собой.",
"Каждый шаг говорит «да» — твори с любовью.",
"Время ведёт к мечте — действуй уверенно.",
"Успех ждёт твоего шага — не бойся сиять.",
"Жизнь наполнен светом — радуйся мелочам.",
"Сегодня больше, чем ты думаешь — не останавливайся.",
"Ты подарит шанс — вдохновляй собой.",
"Мир говорит «да» — твори с любовью.",
"Этот день создаёт возможности — будь смелее.",
            "Сейчас ведёт к мечте — доверься себе.",
"Каждый шаг наполнен светом — радуйся мелочам.",
"Время говорит «да» — не бойся сиять.",
"Успех даёт выбор — вдохновляй собой.",
"Жизнь ждёт твоего шага — твори с любовью.",
"Сегодня наполнен светом — будь смелее.",
"Ты больше, чем ты думаешь — не останавливайся.",
"Мир ведёт к мечте — действуй уверенно.",
"Этот день создаёт возможности — вдохновляй собой.",
"Сейчас говорит «да» — радуйся мелочам.",
"Каждое утро даёт выбор — будь смелее.",
"Время наполнен светом — не бойся сиять.",
"Успех ждёт твоего шага — твори с любовью.",
"Жизнь создаёт возможности — не останавливайся.",
"Сегодня даёт выбор — вдохновляй собой.",
"Ты ведёт к мечте — будь смелее.",
"Мир наполнен светом — доверься себе.",
"Этот день говорит «да» — твори с любовью.",
"Сейчас создаёт возможности — радуйся мелочам.",
"Каждый шаг даёт выбор — вдохновляй собой.",
"Время ведёт к мечте — не бойся сиять.",
"Успех наполнен светом — будь смелее.",
"Жизнь ждёт твоего шага — действуй уверенно.",
"Сегодня создаёт возможности — не останавливайся.",
"Ты говорит «да» — вдохновляй собой.",
"Мир ведёт к мечте — твори с любовью.",
"Этот день наполнен светом — доверься себе.",
"Сейчас больше, чем ты думаешь — радуйся мелочам.",
"Каждый шаг создаёт возможности — будь смелее.",
"Время даёт выбор — не бойся сиять.",
"Успех говорит «да» — вдохновляй собой.",
"Жизнь наполнена светом — не останавливайся.",
"Сегодня ведёт к мечте — твори с любовью.",
"Ты создаёшь свою реальность — доверься себе.",
"Мир наполняется светом — радуйся мелочам.",
"Этот день даёт выбор — будь смелее.",
"Сейчас ждёт твоего шага — вдохновляй собой.",
"Каждый шаг — путь к мечте — не бойся сиять.",
"Время говорит «да» — твори с любовью.",
"Успех создаётся действиями — не останавливайся.",
"Жизнь каждый день — шанс — вдохновляй собой.",
"Сегодня наполнен светом — будь собой.",
"Ты способен на всё — поверь в себя.",
"Мир ждёт твоей энергии — радуйся мелочам.",
"Этот день дарит вдохновение — используй его.",
"Сейчас — самое время — не упусти шанс.",
"Каждое утро — чистый лист — напиши красиво.",
"Время не ждёт — начни прямо сейчас.",
"Успех любит смелых — будь одним из них.",
"Жизнь благодарит за движение — иди вперёд.",
"Сегодня твой день — живи его ярко."
        ];

        // Получаем цитату дня
        function getDailyQuote() {
            const dayOfYear = Math.floor((new Date() - new Date(new Date().getFullYear(), 0, 0)) / 86400000);
            return quotes[dayOfYear % quotes.length];
        }

        // Получаем исторические события с Wikipedia API
        async function getHistoricalEvents() {
            const now = new Date();
            const month = now.getMonth() + 1;
            const day = now.getDate();
            
            try {
                const response = await fetch(
                    `https://ru.wikipedia.org/api/rest_v1/feed/onthisday/events/${month}/${day}`
                );
                
                if (!response.ok) throw new Error('Ошибка загрузки');
                
                const data = await response.json();
                return data.events || [];
                
            } catch (error) {
                console.error('Ошибка:', error);
                return [];
            }
        }

        // Форматируем исторические события
        function formatEvents(events) {
            if (events.length === 0) {
                return '<p>Не удалось загрузить события этого дня</p>';
            }
            
            // Выбираем 3 самых интересных события
            const selectedEvents = events
                .filter(event => event.text && event.year)
                .slice(0, 3);
            
            return selectedEvents.map(event => `
                <div class="history-event">
                    <span class="history-year">${event.year}:</span> 
                    ${event.text.replace(/<[^>]+>/g, '')}
                </div>
            `).join('');
        }

        // Обновляем интерфейс
        async function updateUI() {
            document.getElementById('currentDate').textContent = getCurrentDate();
            document.getElementById('dailyQuote').textContent = getDailyQuote();
            
            // Загружаем исторические события
            const loader = document.getElementById('historyLoader');
            const historyContainer = document.getElementById('dailyHistory');
            
            loader.style.display = 'block';
            historyContainer.innerHTML = '';
            
            const events = await getHistoricalEvents();
            historyContainer.innerHTML = formatEvents(events);
            
            loader.style.display = 'none';
        }

        // Запускаем при загрузке страницы
        document.addEventListener('DOMContentLoaded', updateUI);
    </script>
</body>
</html>
