<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>Проверка Википедии и курсов валют</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #holidays div { margin-bottom: 10px; }
</style>
</head>
<body>

<h1>Праздник из Википедии</h1>
<div id="holiday">Загрузка...</div>

<h1>Курсы валют к MDL</h1>
<div id="exchangeRates">Загрузка...</div>

<script>
  // Функция загрузки описания с Википедии
  function fetchHoliday(title) {
    const url = `https://ru.wikipedia.org/w/api.php?action=query&prop=extracts&exintro&titles=${encodeURIComponent(title)}&format=json&origin=*`;
    return fetch(url)
      .then(response => response.json())
      .then(data => {
        const pages = data.query.pages;
        const pageId = Object.keys(pages)[0];
        return pages[pageId].extract || "Описание отсутствует";
      });
  }

  // Показываем праздник
  fetchHoliday("International_Day_of_Peace")
    .then(html => {
      document.getElementById('holiday').innerHTML = html;
    })
    .catch(() => {
      document.getElementById('holiday').textContent = 'Ошибка загрузки праздника';
    });

  // Загружаем курсы валют
  fetch('https://api.exchangerate.host/latest?base=MDL&symbols=USD,EUR,UAH,RUB')
    .then(res => res.json())
    .then(data => {
      const rates = data.rates;
      let text = "";
      text += rates.USD ? `1 USD = ${(1 / rates.USD).toFixed(4)} MDL<br>` : "";
      text += rates.EUR ? `1 EUR = ${(1 / rates.EUR).toFixed(4)} MDL<br>` : "";
      text += rates.UAH ? `1 UAH = ${(1 / rates.UAH).toFixed(4)} MDL<br>` : "";
      text += rates.RUB ? `1 RUB = ${(1 / rates.RUB).toFixed(4)} MDL<br>` : "";
      document.getElementById('exchangeRates').innerHTML = text || "Данные отсутствуют";
    })
    .catch(() => {
      document.getElementById('exchangeRates').textContent = 'Ошибка загрузки курсов валют';
    });
</script>

</body>
</html>



